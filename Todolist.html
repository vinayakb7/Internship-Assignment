<!DOCTYPE html>
<html>

<head>
  <title>To Do List Page</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="style.css">
  <script src="https://kit.fontawesome.com/a076d05399.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <script src="logout.js"></script>
  <style>
    section{
      min-height: 80vh;
    }
    .row {
      margin-top: 10px;
      display: flex;
    }

    #addlist {
      margin-left: 10px;
    }

    .btn-primary {
      background-color: #6200ee;
      border: none;
      border-radius: 0 !important;
    }

    .btn-primary:hover {
      background-color: #bb86fc;
      color: #000;
    }
    .texbox{
      width: 30%;
      margin: 10px 0;
    }
  </style>
</head>

<body>
  <nav>
    <input type="checkbox" id="check">
    <label for="check" class="checkbtn">
      <i class="fas fa-bars"></i>
    </label>
    <label class="logo"><a class="logolink" href="Home.html"><img class="headerlogo" src="images/image2.png"></a></label>
    <ul>
      <li><a class="hoveer" href="Home.html">Home</a></li>
      <li><a class="active hoveer" href="Todolist.html">To Do List</a></li>
      <li><a class="hoveer" href="Shoppingcart.html">Shopping Page</a></li>
      <li><a class="hoveer" href="Calculator.html">Calculator</a></li>
      <li><a class="hoveer" href="Contactus.html">Contact Us</a></li>
      <li><button class="btn logout" onclick="logout()">Log Out</button></li>
    </ul>
  </nav>
  <section>
    <div class="container">
      <div class="row col-md-4 col-md-offset-4">
        <input class="form-control" type="text" id="listinput">
        <button class="btn btn-primary" id="addlist">Add</button>
      </div><br><br><br><br>
      <div class="list" id="todolist">
      </div>
    </div>
    <script>
      function logout(){
        window.open('index.html');
      }
      
      let addbtn = document.getElementById('addlist');
      let todolist = document.getElementById('todolist');
      let inputtext = document.getElementById('listinput');

      addbtn.addEventListener('click', function () {
        var ptag = document.createElement('p');
        var closetag = document.createElement('span');
        var edittag = document.createElement('span');
        ptag.className = "para listitem";
        closetag.className = "btn btn-danger btndelete";
        edittag.className = "btn btn-primary btnedit";
        edittag.textContent = 'Edit';
        closetag.textContent = 'Delete';
        ptag.innerHTML = inputtext.value;
        todolist.appendChild(ptag);
        todolist.appendChild(closetag);
        todolist.appendChild(edittag);
        listinput.value = "";
        closetag.addEventListener('click', function (e) {
          todolist.removeChild(ptag);
          todolist.removeChild(edittag);
          todolist.removeChild(closetag);
        });
        edittag.addEventListener('click', function () {
          var newtag=document.createElement('input');
          newtag.className="form-control texbox";
          newtag.id='texbox';
          savetag=document.createElement('span');
          savetag.textContent="Save"
          savetag.className='btn btn-primary';
          todolist.appendChild(savetag);
          todolist.replaceChild(newtag,ptag);
          todolist.removeChild(edittag);
          savetag.addEventListener('click', function () {
            var newtext=document.getElementById("texbox").value;
            // alert(newtext);
            todolist.replaceChild(ptag,newtag);
            ptag.textContent=newtext;
            todolist.replaceChild(edittag,savetag);
          });
          // var newlist = document.getElementById('listinput');
          // ptag.innerHTML = newlist.value;
          // newlist.value = "";
        });
      });

    </script>
  </section>
  <footer>
    <p>Copyright &copy; <a href="Home.html">Vinayak Bilagi</a>. All Rights Reserved.</p>
  </footer>
</body>

</html>